[platformio]
build_cache_dir = .pio/buildcache
default_envs = esp32dev

[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
monitor_filters = time, esp32_exception_decoder
board_build.partitions = huge_app.csv
upload_port = COM10
upload_speed = 921600
monitor_port = COM10
lib_deps = 
  SensESP
  adafruit/Adafruit BMP280 Library
  adafruit/Adafruit Unified Sensor
build_flags = 
  -std=gnu++17
  -D CONFIG_ARDUINO_RUNNING_CORE=1
  -D CONFIG_ARDUINO_EVENT_RUNNING_CORE=1
  -D SENSEESP_BUILD_INFO="barometer"
  -D CORE_DEBUG_LEVEL=ARDUHAL_LOG_LEVEL_INFO
  -D USE_ESP_IDF_LOG
  -D TAG='"ARDUINO"'
  -D LED_BUILTIN=2
build_unflags = 
  -std=gnu++11

[env:esp32dev-ota]
platform = espressif32
board = esp32dev
framework = arduino
upload_protocol = espota
# Use mDNS hostname set in code; replace with IP if needed
upload_port = barometer.local
# Uncomment if SenseESP/ArduinoOTA sets a password
# upload_flags = --auth=your_password
# Increase OTA timeout to allow slower network responses
upload_flags = --timeout=30
board_build.partitions = huge_app.csv
lib_deps = 
  SensESP
  adafruit/Adafruit BMP280 Library
  adafruit/Adafruit Unified Sensor
build_flags = 
  -std=gnu++17
  -D CONFIG_ARDUINO_RUNNING_CORE=1
  -D CONFIG_ARDUINO_EVENT_RUNNING_CORE=1
  -D SENSEESP_BUILD_INFO="barometer"
  -D CORE_DEBUG_LEVEL=ARDUHAL_LOG_LEVEL_NONE
  -D USE_ESP_IDF_LOG
  -D TAG='"ARDUINO"'
  -D LED_BUILTIN=2
build_unflags = 
  -std=gnu++11
